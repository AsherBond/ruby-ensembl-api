<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Ensembl::Variation::VariationFeature</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (V)</a> &raquo; 
    <span class='title'><a href="../../Ensembl.html" title="Ensembl (module)">Ensembl</a></span> &raquo; <span class='title'><a href="../Variation.html" title="Ensembl::Variation (module)">Variation</a></span>
     &raquo; 
    <span class="title">VariationFeature</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ensembl::Variation::VariationFeature 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="DBConnection.html" title="Ensembl::Variation::DBConnection (class)">DBConnection</a></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next"><a href="../DBRegistry/Base.html" title="Ensembl::DBRegistry::Base (class)">Ensembl::DBRegistry::Base</a></li>
          
            <li class="next"><a href="DBConnection.html" title="Ensembl::Variation::DBConnection (class)">DBConnection</a></li>
          
            <li class="next">Ensembl::Variation::VariationFeature</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ensembl/variation/variation.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
The VariationFeature class gives information about the genomic position of
each Variation, including also validation status and consequence type.
</p>
<p>
This class uses ActiveRecord to access data in the Ensembl database. See
the general documentation of the Ensembl module for more information on
what this means and what methods are available.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"><span class='comment val'># SLOWER QUERY</span>
<span class='vf identifier id'>vf</span> <span class='assign token'>=</span> <span class='VariationFeature constant id'>VariationFeature</span><span class='dot token'>.</span><span class='find_by_variation_name identifier id'>find_by_variation_name</span><span class='lparen token'>(</span><span class='string val'>'rs10111'</span><span class='rparen token'>)</span>
<span class='comment val'># FASTER QUERY</span>
<span class='vf identifier id'>vf</span> <span class='assign token'>=</span> <span class='Variation constant id'>Variation</span><span class='dot token'>.</span><span class='find_by_name identifier id'>find_by_name</span><span class='lparen token'>(</span><span class='string val'>'rs10111'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='variation_feature identifier id'>variation_feature</span>

<span class='puts identifier id'>puts</span> <span class='vf identifier id'>vf</span><span class='dot token'>.</span><span class='seq_region_start identifier id'>seq_region_start</span><span class='comma token'>,</span> <span class='vf identifier id'>vf</span><span class='dot token'>.</span><span class='seq_region_end identifier id'>seq_region_end</span><span class='comma token'>,</span> <span class='vf identifier id'>vf</span><span class='dot token'>.</span><span class='allele_string identifier id'>allele_string</span>
<span class='puts identifier id'>puts</span> <span class='vf identifier id'>vf</span><span class='dot token'>.</span><span class='variation identifier id'>variation</span><span class='dot token'>.</span><span class='ancestral_allele identifier id'>ancestral_allele</span>
<span class='genomic_region identifier id'>genomic_region</span> <span class='assign token'>=</span> <span class='vf identifier id'>vf</span><span class='dot token'>.</span><span class='fetch_region identifier id'>fetch_region</span> <span class='lparen token'>(</span><span class='returns identifier id'>returns</span> <span class='an identifier id'>an</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='Slice constant id'>Slice</span><span class='rparen token'>)</span>
<span class='genomic_region identifier id'>genomic_region</span><span class='dot token'>.</span><span class='genes identifier id'>genes</span>
<span class='up_region identifier id'>up_region</span><span class='comma token'>,</span><span class='down_region identifier id'>down_region</span> <span class='assign token'>=</span> <span class='vf identifier id'>vf</span><span class='dot token'>.</span><span class='flanking_seq identifier id'>flanking_seq</span> <span class='lparen token'>(</span><span class='returns identifier id'>returns</span> <span class='two identifier id'>two</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='Slice constant id'>Slice</span><span class='rparen token'>)</span>
</pre>
    
  </div>

</div>

  
  
  
  
  
  
  
  
  

  
    <h2>Instance Method Summary</h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#core_connection-instance_method" title="#core_connection (instance method)">- (Object) <strong>core_connection</strong>(seq_region_id) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_region-instance_method" title="#fetch_region (instance method)">- (Slice) <strong>fetch_region</strong>(up = 5000, down = 5000) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Based on Perl API &#8216;get_all_Genes&#8217; method for Variation class.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flanking_seq-instance_method" title="#flanking_seq (instance method)">- (Object) <strong>flanking_seq</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="DBConnection.html" title="Ensembl::Variation::DBConnection (class)">DBConnection</a></h3>
  <p class="inherited"><a href="DBConnection.html#connect-class_method" title="Ensembl::Variation::DBConnection.connect (method)">connect</a></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="../DBRegistry/Base.html" title="Ensembl::DBRegistry::Base (class)">Ensembl::DBRegistry::Base</a></h3>
  <p class="inherited"><a href="../DBRegistry/Base.html#get_info-class_method" title="Ensembl::DBRegistry::Base.get_info (method)">get_info</a>, <a href="../DBRegistry/Base.html#get_name_from_db-class_method" title="Ensembl::DBRegistry::Base.get_name_from_db (method)">get_name_from_db</a></p>

  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="core_connection-instance_method">
  
    - (<tt>Object</tt>) <strong>core_connection</strong>(seq_region_id) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ensembl/variation/variation.rb', line 107</span>

<span class='def def kw'>def</span> <span class='core_connection identifier id'>core_connection</span><span class='lparen token'>(</span><span class='seq_region_id identifier id'>seq_region_id</span><span class='rparen token'>)</span> 
  <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='DBConnection constant id'>DBConnection</span><span class='dot token'>.</span><span class='connected? fid id'>connected?</span> <span class='then then kw'>then</span>  
    <span class='host identifier id'>host</span><span class='comma token'>,</span><span class='user identifier id'>user</span><span class='comma token'>,</span><span class='password identifier id'>password</span><span class='comma token'>,</span><span class='db_name identifier id'>db_name</span><span class='comma token'>,</span><span class='port identifier id'>port</span> <span class='assign token'>=</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Variation constant id'>Variation</span><span class='colon2 op'>::</span><span class='DBConnection constant id'>DBConnection</span><span class='dot token'>.</span><span class='get_info identifier id'>get_info</span>
    <span class='if if kw'>if</span> <span class='db_name identifier id'>db_name</span> <span class='match op'>=~</span><span class='regexp val'>/(\w+_\w+)_\w+_(\d+)_\S+/</span> <span class='then then kw'>then</span>
      <span class='species identifier id'>species</span><span class='comma token'>,</span><span class='release identifier id'>release</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span><span class='$2 nth_ref id'>$2</span>
      <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='DBConnection constant id'>DBConnection</span><span class='dot token'>.</span><span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='species identifier id'>species</span><span class='comma token'>,</span><span class='release identifier id'>release</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span><span class='symbol val'>:username</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='symbol val'>:password</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='password identifier id'>password</span><span class='comma token'>,</span><span class='symbol val'>:host</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='host identifier id'>host</span><span class='comma token'>,</span> <span class='symbol val'>:port</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='port identifier id'>port</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='NameError constant id'>NameError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Can't derive Core database name from #{db_name}. Are you using non conventional names?&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># Check if SeqRegion already exists in Ensembl::SESSION</span>
  <span class='seq_region identifier id'>seq_region</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='SESSION constant id'>SESSION</span><span class='dot token'>.</span><span class='seq_regions identifier id'>seq_regions</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='seq_region_id identifier id'>seq_region_id</span><span class='rparen token'>)</span>
    <span class='seq_region identifier id'>seq_region</span> <span class='assign token'>=</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='SESSION constant id'>SESSION</span><span class='dot token'>.</span><span class='seq_regions identifier id'>seq_regions</span><span class='lbrack token'>[</span><span class='seq_region_id identifier id'>seq_region_id</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='seq_region identifier id'>seq_region</span> <span class='assign token'>=</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='SeqRegion constant id'>SeqRegion</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='seq_region_id identifier id'>seq_region_id</span><span class='rparen token'>)</span>
    <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='SESSION constant id'>SESSION</span><span class='dot token'>.</span><span class='seq_regions identifier id'>seq_regions</span><span class='lbrack token'>[</span><span class='seq_region identifier id'>seq_region</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='seq_region identifier id'>seq_region</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='seq_region identifier id'>seq_region</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="fetch_region-instance_method">
  
    - (<tt>Slice</tt>) <strong>fetch_region</strong>(up = 5000, down = 5000) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Based on Perl API &#8216;get_all_Genes&#8217; method for Variation class.
Get a genomic region starting from the Variation coordinates, expanding the
region upstream and downstream.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <span class='name'>up</span>
      
      
        <em class="default">(defaults to: <tt>5000</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
Length of upstream flanking region
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <span class='name'>down</span>
      
      
        <em class="default">(defaults to: <tt>5000</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
Length of downstream flanking region
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Slice</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Slice object containing the variation
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ensembl/variation/variation.rb', line 91</span>

<span class='def def kw'>def</span> <span class='fetch_region identifier id'>fetch_region</span><span class='lparen token'>(</span><span class='up identifier id'>up</span> <span class='assign token'>=</span> <span class='integer val'>5000</span><span class='comma token'>,</span> <span class='down identifier id'>down</span> <span class='assign token'>=</span> <span class='integer val'>5000</span><span class='rparen token'>)</span>
  <span class='sr identifier id'>sr</span> <span class='assign token'>=</span> <span class='core_connection identifier id'>core_connection</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='seq_region_id identifier id'>seq_region_id</span><span class='rparen token'>)</span>
  <span class='slice identifier id'>slice</span> <span class='assign token'>=</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='Slice constant id'>Slice</span><span class='dot token'>.</span><span class='fetch_by_region identifier id'>fetch_by_region</span><span class='lparen token'>(</span><span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='CoordSystem constant id'>CoordSystem</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='sr identifier id'>sr</span><span class='dot token'>.</span><span class='coord_system_id identifier id'>coord_system_id</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='sr identifier id'>sr</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='seq_region_start identifier id'>seq_region_start</span><span class='minus op'>-</span><span class='up identifier id'>up</span><span class='comma token'>,</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='seq_region_end identifier id'>seq_region_end</span><span class='plus op'>+</span><span class='down identifier id'>down</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='slice identifier id'>slice</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="flanking_seq-instance_method">
  
    - (<tt>Object</tt>) <strong>flanking_seq</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ensembl/variation/variation.rb', line 97</span>

<span class='def def kw'>def</span> <span class='flanking_seq identifier id'>flanking_seq</span>
  <span class='sr identifier id'>sr</span> <span class='assign token'>=</span> <span class='core_connection identifier id'>core_connection</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='seq_region_id identifier id'>seq_region_id</span><span class='rparen token'>)</span>
  <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='Variation constant id'>Variation</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='variation_id identifier id'>variation_id</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flanking_sequence identifier id'>flanking_sequence</span>
  <span class='slice_up identifier id'>slice_up</span> <span class='assign token'>=</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='Slice constant id'>Slice</span><span class='dot token'>.</span><span class='fetch_by_region identifier id'>fetch_by_region</span><span class='lparen token'>(</span><span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='CoordSystem constant id'>CoordSystem</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='sr identifier id'>sr</span><span class='dot token'>.</span><span class='coord_system_id identifier id'>coord_system_id</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='sr identifier id'>sr</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='f identifier id'>f</span><span class='dot token'>.</span><span class='up_seq_region_start identifier id'>up_seq_region_start</span><span class='comma token'>,</span><span class='f identifier id'>f</span><span class='dot token'>.</span><span class='up_seq_region_end identifier id'>up_seq_region_end</span><span class='comma token'>,</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='seq_region_strand identifier id'>seq_region_strand</span><span class='rparen token'>)</span>
  <span class='slice_down identifier id'>slice_down</span> <span class='assign token'>=</span> <span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='Slice constant id'>Slice</span><span class='dot token'>.</span><span class='fetch_by_region identifier id'>fetch_by_region</span><span class='lparen token'>(</span><span class='Ensembl constant id'>Ensembl</span><span class='colon2 op'>::</span><span class='Core constant id'>Core</span><span class='colon2 op'>::</span><span class='CoordSystem constant id'>CoordSystem</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='sr identifier id'>sr</span><span class='dot token'>.</span><span class='coord_system_id identifier id'>coord_system_id</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='sr identifier id'>sr</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='f identifier id'>f</span><span class='dot token'>.</span><span class='down_seq_region_start identifier id'>down_seq_region_start</span><span class='comma token'>,</span><span class='f identifier id'>f</span><span class='dot token'>.</span><span class='down_seq_region_end identifier id'>down_seq_region_end</span><span class='comma token'>,</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='seq_region_strand identifier id'>seq_region_strand</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='slice_up identifier id'>slice_up</span><span class='comma token'>,</span><span class='slice_down identifier id'>slice_down</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Apr 19 20:33:35 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.4 (ruby-1.8.6).
</div>

  </body>
</html>